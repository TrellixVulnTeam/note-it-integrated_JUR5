{"ast":null,"code":"import _asyncToGenerator from \"/home/nehakothari/Desktop/Note-it-integrated/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/rest-api.service\";\nimport * as i3 from \"../navbar/navbar.component\";\nimport * as i4 from \"@angular/common\";\n\nfunction BookDetailsComponent_button_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 23);\n    i0.ɵɵtext(1, \"Select Chapters\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookDetailsComponent_div_32_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"Chapter Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵtext(8, \"Chapter Name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵelementStart(12, \"strong\");\n    i0.ɵɵtext(13, \"Start Page: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵelementStart(17, \"strong\");\n    i0.ɵɵtext(18, \"End Page: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"p\");\n    i0.ɵɵelementStart(22, \"strong\");\n    i0.ɵɵtext(23, \"Description: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"span\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r4 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r4.chapterNumber);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r4.chapterName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r4.startPage);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r4.endPage);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(book_r4.description);\n  }\n}\n\nfunction BookDetailsComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"h5\", 24);\n    i0.ɵɵtext(2, \"Chapter Information:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, BookDetailsComponent_div_32_div_3_Template, 26, 5, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.book_details.chapters);\n  }\n}\n\nfunction BookDetailsComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"input\", 27);\n    i0.ɵɵelementStart(2, \"label\", 28);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", book_r5.chapterId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", book_r5.chapterId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", book_r5.chapterName, \"\");\n  }\n}\n\nexport class BookDetailsComponent {\n  constructor(activatedRoute, _api) {\n    this.activatedRoute = activatedRoute;\n    this._api = _api;\n    this.activatedRoute.params.subscribe(params => this.activateID = params);\n    console.log(this.activateID.isbn);\n  }\n\n  ngOnInit() {\n    this.getBookDetails();\n  }\n\n  getBookDetails() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.book_details = yield _this._api.getBookDetails({}, _this.activateID.isbn);\n      console.log(_this.book_details);\n    })();\n  }\n\n  addtoLocal() {\n    let local = localStorage.getItem('cart'); // if localstorage variable does not exist\n\n    if (local === null) {\n      // Store the selected. \n      let array = []; // adding the selected once to the array\n\n      let chapters = this.book_details.chapters;\n\n      for (let i = 0; i < chapters.length; i++) {\n        let element = document.getElementById(`${chapters[i].chapterId}`);\n\n        if (element.checked) {\n          array.push(chapters[i]);\n        }\n      } // update the localstorge\n\n\n      localStorage.setItem('cart', JSON.stringify(array));\n    } else {\n      // if localstorage variable does exist      \n      let array = JSON.parse(localStorage.cart);\n      console.log(array, array.length); // Inject all the previous checks-----------------------------\n      // for (let i = 0; i < this.book_details.chapters.length; i++) {\n      //   let element: any = document.getElementById(`${this.book_details.chapters[i].chapterId}`)\n      //   if(array.includes(this.book_details.chapters[i].chapterId)){\n      //     console.log(this.book_details.chapters[i].chapterId,\"Included\");\n      //     element.checked = true;\n      //   }\n      // }\n      // -----------------------------------------------------------\n      // Add all the selected notes:\n\n      let chapters = this.book_details.chapters;\n\n      for (let i = 0; i < chapters.length; i++) {\n        let element = document.getElementById(`${chapters[i].chapterId}`);\n\n        if (element.checked) {\n          // check if aleady exists in the array\n          if (!this.toCheckifValueExistsinArray(array, chapters[i].chapterId)) {\n            console.log(\"Adding\", chapters[i].chapterId);\n            array.push(chapters[i]);\n          }\n        } // update the localstorge\n\n\n        localStorage.setItem('cart', JSON.stringify(array));\n      }\n    } //  Uncheck al\n\n\n    for (let i = 0; i < this.book_details.chapters.length; i++) {\n      let element = document.getElementById(`${this.book_details.chapters[i].chapterId}`);\n      element.checked = false;\n    }\n  }\n\n  downloadEbook() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let book_id = _this2.book_details.bookId;\n      console.log(book_id); // Download Ebook\n\n      let response = yield _this2._api.downloadEbook(book_id);\n      console.log(\"END OF THE ERRA\", response);\n      let blob = new Blob([response], {\n        type: 'application/pdf'\n      });\n      let downloadURL = window.URL.createObjectURL(response);\n      let link = document.createElement('a');\n      link.href = downloadURL;\n      link.download = `${_this2.book_details.bookName}.pdf`;\n      link.click();\n    })();\n  }\n\n  toCheckifValueExistsinArray(array, value) {\n    for (let i = 0; i < array.length; i++) {\n      if (array[i].chapterId === value) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n}\n\nBookDetailsComponent.ɵfac = function BookDetailsComponent_Factory(t) {\n  return new (t || BookDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.RestApiService));\n};\n\nBookDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookDetailsComponent,\n  selectors: [[\"app-book-details\"]],\n  decls: 47,\n  vars: 8,\n  consts: [[1, \"container\", 2, \"max-width\", \"60vw\"], [1, \"row\", \"mt-4\"], [1, \"col-md-4\"], [1, \"cover\", \"text-center\"], [2, \"max-width\", \"50%\", 3, \"src\"], [1, \"col-md-8\"], [1, \"inter-medium\", \"mb-4\"], [1, \"source-sans-pro\"], [1, \"btn\", \"btn-primary\", \"mr4\", 3, \"click\"], [\"type\", \"button\", \"class\", \"btn btn-dark\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", 4, \"ngIf\"], [1, \"row\", \"mt-4\", \"mx-auto\"], [\"class\", \"row mt-4\", 4, \"ngIf\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [\"class\", \"source-sans-pro\", 4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", 1, \"btn\", \"btn-dark\"], [1, \"inter-regular\"], [\"class\", \"shadow br2 mt-4 p-3 source-sans-pro\", 4, \"ngFor\", \"ngForOf\"], [1, \"shadow\", \"br2\", \"mt-4\", \"p-3\", \"source-sans-pro\"], [\"type\", \"checkbox\", 1, \"m-1\", 3, \"id\"], [3, \"for\"]],\n  template: function BookDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelement(5, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"h4\", 6);\n      i0.ɵɵtext(8, \"Book Details:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\", 7);\n      i0.ɵɵelementStart(10, \"strong\");\n      i0.ɵɵtext(11, \"Book Name: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"span\");\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"p\", 7);\n      i0.ɵɵelementStart(15, \"strong\");\n      i0.ɵɵtext(16, \"Author: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"span\");\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"p\", 7);\n      i0.ɵɵelementStart(20, \"strong\");\n      i0.ɵɵtext(21, \"Uploaded By: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"span\");\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function BookDetailsComponent_Template_button_click_24_listener() {\n        return ctx.downloadEbook();\n      });\n      i0.ɵɵtext(25, \"Download ebook\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(26, BookDetailsComponent_button_26_Template, 2, 0, \"button\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 10);\n      i0.ɵɵelementStart(28, \"h5\", 6);\n      i0.ɵɵtext(29, \"Book Description: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"p\", 7);\n      i0.ɵɵtext(31);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(32, BookDetailsComponent_div_32_Template, 4, 1, \"div\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 12);\n      i0.ɵɵelementStart(34, \"div\", 13);\n      i0.ɵɵelementStart(35, \"div\", 14);\n      i0.ɵɵelementStart(36, \"div\", 15);\n      i0.ɵɵelementStart(37, \"h5\", 16);\n      i0.ɵɵtext(38, \"Chapters\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"button\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 18);\n      i0.ɵɵtemplate(41, BookDetailsComponent_div_41_Template, 4, 3, \"div\", 19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"div\", 20);\n      i0.ɵɵelementStart(43, \"button\", 21);\n      i0.ɵɵtext(44, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function BookDetailsComponent_Template_button_click_45_listener() {\n        return ctx.addtoLocal();\n      });\n      i0.ɵɵtext(46, \"Add to Notes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.book_details.imageLocation, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(ctx.book_details.bookName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.book_details.author);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.book_details.uploadedByUser);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.book_details.chapters);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.book_details.description);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.book_details.chapters);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.book_details.chapters);\n    }\n  },\n  directives: [i3.NavbarComponent, i4.NgIf, i4.NgForOf],\n  styles: [\".mt-4[_ngcontent-%COMP%] {\\n  padding-top: 30px;\\n}\\n\\n.mr4[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\n.br2[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb2stZGV0YWlscy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSiIsImZpbGUiOiJib29rLWRldGFpbHMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubXQtNHtcbiAgICBwYWRkaW5nLXRvcDogMzBweDtcbn1cblxuLm1yNHtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5icjJ7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["/home/nehakothari/Desktop/Note-it-integrated/Frontend/src/app/components/book-details/book-details.component.ts","/home/nehakothari/Desktop/Note-it-integrated/Frontend/src/app/components/book-details/book-details.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { RestApiService } from 'src/app/services/rest-api.service';\n\n@Component({\n  selector: 'app-book-details',\n  templateUrl: './book-details.component.html',\n  styleUrls: ['./book-details.component.scss']\n})\nexport class BookDetailsComponent implements OnInit {\n  activateID: any;\n\n  constructor(private activatedRoute: ActivatedRoute, private _api: RestApiService) {\n    this.activatedRoute.params.subscribe(params => this.activateID = params);\n    console.log(this.activateID.isbn);\n  }\n\n  book_details: any;\n\n  ngOnInit(): void {\n    this.getBookDetails()\n    \n  }\n\n  async getBookDetails() {\n    \n    this.book_details = await this._api.getBookDetails({},this.activateID.isbn);\n    console.log(this.book_details)\n\n  }\n\n  addtoLocal() {\n\n    let local = localStorage.getItem('cart');\n\n    // if localstorage variable does not exist\n    if (local === null) {\n\n      // Store the selected. \n      let array: any = [];\n\n      // adding the selected once to the array\n      let chapters = this.book_details.chapters;\n      for (let i = 0; i < chapters.length; i++) {\n        let element: any = document.getElementById(`${chapters[i].chapterId}`)\n        if (element.checked) {\n          array.push(chapters[i]);\n        }\n      }\n\n      // update the localstorge\n      localStorage.setItem('cart', JSON.stringify(array));\n\n    } else {\n      // if localstorage variable does exist      \n      let array: any = JSON.parse(localStorage.cart);\n      console.log(array,array.length);\n\n      // Inject all the previous checks-----------------------------\n\n      // for (let i = 0; i < this.book_details.chapters.length; i++) {\n      //   let element: any = document.getElementById(`${this.book_details.chapters[i].chapterId}`)\n      //   if(array.includes(this.book_details.chapters[i].chapterId)){\n      //     console.log(this.book_details.chapters[i].chapterId,\"Included\");\n      //     element.checked = true;\n      //   }\n      // }\n      // -----------------------------------------------------------\n\n\n      // Add all the selected notes:\n      let chapters = this.book_details.chapters;\n      for (let i = 0; i < chapters.length; i++) {\n        let element: any = document.getElementById(`${chapters[i].chapterId}`)\n        if (element.checked) {\n\n          // check if aleady exists in the array\n          if (!this.toCheckifValueExistsinArray(array,chapters[i].chapterId)) {\n            console.log(\"Adding\", chapters[i].chapterId);\n            array.push(chapters[i]);\n          }\n        }\n\n        // update the localstorge\n        localStorage.setItem('cart', JSON.stringify(array));\n      }\n    }\n\n  //  Uncheck al\n  for (let i = 0; i < this.book_details.chapters.length; i++) {\n    let element: any = document.getElementById(`${this.book_details.chapters[i].chapterId}`)\n    element.checked = false;\n  }\n\n  }\n\n  async downloadEbook(){\n    let book_id = this.book_details.bookId;\n    console.log(book_id);\n\n    // Download Ebook\n    let response:any = await this._api.downloadEbook(book_id);\n    console.log(\"END OF THE ERRA\",response);\n\n    let blob = new Blob([response], {type: 'application/pdf'});\n    let downloadURL = window.URL.createObjectURL(response);\n    let link:any = document.createElement('a');\n    link.href = downloadURL;\n    link.download = `${this.book_details.bookName}.pdf`;\n    link.click();\n    \n  }\n\n\n  toCheckifValueExistsinArray(array:any, value:any){\n    for(let i=0;i<array.length;i++){\n      if(array[i].chapterId === value){\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n}\n","<app-navbar></app-navbar>\n\n<div class=\"container\"  style=\"max-width: 60vw;\">\n    <div class=\"row mt-4\">\n        <div class=\"col-md-4\">\n          <div class=\"cover text-center\">\n              <img src=\"{{book_details.imageLocation}}\" style=\"max-width: 50%;\"/>\n          </div>\n        </div>\n        <div class=\"col-md-8\">\n            <h4 class=\"inter-medium mb-4\">Book Details:</h4>\n            <p class=\"source-sans-pro\"><strong>Book Name: </strong> <span>{{book_details.bookName}}</span></p>\n            <p class=\"source-sans-pro\"><strong>Author: </strong> <span>{{book_details.author}}</span></p>\n            <p class=\"source-sans-pro\"><strong>Uploaded By: </strong> <span>{{book_details.uploadedByUser}}</span></p>\n            <button class=\"btn btn-primary mr4\" (click)=\"downloadEbook()\">Download ebook</button>\n            <button type=\"button\" *ngIf='book_details.chapters' class=\"btn btn-dark\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" >Select Chapters</button>\n        </div>\n    </div>\n\n\n    <div class=\"row mt-4 mx-auto\">\n        <h5 class=\"inter-medium mb-4\">Book Description: </h5>\n        <p class=\"source-sans-pro\">{{book_details.description}}</p>\n\n    <div *ngIf='book_details.chapters' class=\"row mt-4\">\n        <h5 class=\"inter-regular\">Chapter Information:</h5>\n        <div class=\"shadow br2 mt-4 p-3 source-sans-pro\" *ngFor=\"let book of book_details.chapters\">\n            <!-- <p><strong>chapterId: </strong><span>{{book.chapterId}}</span></p> -->\n            <p><strong>Chapter Number: </strong><span>{{book.chapterNumber}}</span></p>\n            <p><strong>Chapter Name: </strong><span>{{book.chapterName}}</span></p>\n            <p><strong>Start Page: </strong><span>{{book.startPage}}</span></p>\n            <p><strong>End Page: </strong><span>{{book.endPage}}</span></p>\n            <p><strong>Description: </strong><span>{{book.description}}</span></p>\n        </div>\n    </div>\n</div>\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Chapters</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <!-- Checkbox Looping -->\n          <div class=\"source-sans-pro\" *ngFor=\"let book of book_details.chapters\">\n            <input type=\"checkbox\" id=\"{{book.chapterId}}\" class=\"m-1\"><label for=\"{{book.chapterId}}\">  {{book.chapterName}}</label>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n          <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" (click)=\"addtoLocal()\">Add to Notes</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  "],"sourceRoot":""},"metadata":{},"sourceType":"module"}